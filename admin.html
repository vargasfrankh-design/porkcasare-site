<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin - Pedidos pendientes | PorkCasare</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- SweetAlert2 -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body { background:#f5f8ff; }
    .topbar { background: linear-gradient(90deg,#2b9df3,#4aa0e8); color:#fff; padding:12px 18px; border-radius:8px; margin-bottom:18px; display:flex; align-items:center; justify-content:space-between; }
    .brand { display:flex; align-items:center; gap:10px; }
    .brand img { height:44px; width:44px; border-radius:50%; object-fit:cover; }
    .card { border-radius:10px; box-shadow: 0 6px 20px rgba(20,40,80,0.06); }
    table th, table td { vertical-align: middle; }
    .small-muted { font-size:13px; color:#666; }
  </style>
</head>
<body>
  <div class="container py-4">
    <div class="topbar">
      <div class="brand">
        <img src="/images/logo.webp" alt="PorkCasare logo">
        <div>
          <div style="font-weight:700">PorkCasare â€” Panel Admin</div>
          <div class="small-muted">Ã“rdenes pendientes / Confirmar y distribuir puntos</div>
        </div>
      </div>
      <div>
        <button id="btnRefresh" class="btn btn-light btn-sm">ðŸ”„ Refrescar</button>
      </div>
    </div>

    <div class="card p-3 mb-3">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h5 class="mb-0">Ã“rdenes pendientes</h5>
        <div class="small-muted">Solo se muestran con estado <strong>pendiente_confirmacion</strong></div>
      </div>

      <div class="table-responsive">
        <table class="table table-hover" id="ordersTable">
          <thead class="table-light">
            <tr>
              <th>Orden ID</th>
              <th>Comprador</th>
              <th>Productos</th>
              <th>Puntos totales</th>
              <th>Precio</th>
              <th>Fecha</th>
              <th>Estado</th>
              <th style="min-width:200px">Acciones</th>
            </tr>
          </thead>
          <tbody id="ordersBody">
            <!-- llenado por JS -->
          </tbody>
        </table>
      </div>

    </div>

    <div class="card p-3">
      <h6>Registro de actividad</h6>
      <div id="logBox" style="min-height:60px; max-height:240px; overflow:auto; font-size:13px; color:#333;"></div>
    </div>
  </div>

  <!-- Firebase + Script admin -->
  <script type="module" src="/src/firebase-config.js"></script>
  <script type="module" src="js/admin-orders.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
